# @package _global_

defaults:
  - override /hydra/launcher: submitit_slurm

devices_per_job: ${hydra:launcher.tasks_per_node}

hydra:
  launcher:
    partition: booster
    account: hai_spatial_clip
    cpus_per_task: 8
    mem_gb: 480
    gres: gpu:4
    gpus_per_node: 4
    tasks_per_node: 4
    timeout_min: 1440
    array_parallelism: 20 # max num of tasks to run in parallel (via job array)
    setup:
      - CUDA_VISIBLE_DEVICES=0,1,2,3
